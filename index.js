import{a as L,S as b,i as n}from"./assets/vendor-CrlV4O_2.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(e){if(e.ep)return;e.ep=!0;const s=t(e);fetch(e.href,s)}})();const E="50493265-0cafa83cbbda07ad22be9b176",w="https://pixabay.com/api/",P=15;async function d(o,r){return(await L.get(w,{params:{key:E,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:r,per_page:P}})).data}const u=document.querySelector(".gallery"),f=document.querySelector(".loader"),m=document.querySelector(".load-more"),R=new b(".gallery a",{captionsData:"alt",captionDelay:250});function g(o){const r=o.map(t=>`
      <a class="gallery__item" href="${t.largeImageURL}">
        <img src="${t.webformatURL}" alt="${t.tags}" />
      </a>
    `).join("");u.insertAdjacentHTML("beforeend",r),R.refresh()}function S(){u.innerHTML=""}function h(){f.classList.remove("is-hidden")}function p(){f.classList.add("is-hidden")}function q(){m.classList.remove("is-hidden")}function y(){m.classList.add("is-hidden")}const v=document.querySelector(".search-form");let i=1,l="";v.addEventListener("submit",async o=>{o.preventDefault();const r=o.target.searchQuery.value.trim();if(r){l=r,i=1,S(),y(),h();try{const{hits:t,totalHits:a}=await d(l,i);if(t.length===0){n.info({title:"No Results",message:"No images found. Try a different query.",position:"topRight"});return}g(t),a>i*15&&q()}catch(t){console.error("Error fetching images:",t),n.error({title:"Error",message:"Something went wrong. Please try again.",position:"topRight"})}finally{p()}}});document.querySelector(".load-more").addEventListener("click",async()=>{i+=1,h();try{const{hits:o,totalHits:r}=await d(l,i);g(o);const t=Math.ceil(r/15);i>=t&&(y(),n.info({title:"End of Results",message:"You have reached the end of the search results.",position:"topRight"}))}catch(o){console.error("Error loading more images:",o),n.error({title:"Error",message:"Failed to load more images.",position:"topRight"})}finally{p()}});
//# sourceMappingURL=index.js.map
